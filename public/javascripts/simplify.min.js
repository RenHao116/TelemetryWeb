!function(){"use strict";function a(a,b){var c=a[0]-b[0],d=a[1]-b[1];return c*c+d*d}function b(a,b,c){var d=b[0],e=b[1],f=c[0]-d,g=c[1]-e;if(0!==f||0!==g){var h=((a[0]-d)*f+(a[1]-e)*g)/(f*f+g*g);h>1?(d=c[0],e=c[1]):h>0&&(d+=f*h,e+=g*h)}return f=a[0]-d,g=a[1]-e,f*f+g*g}function c(b,c){for(var f,d=b[0],e=[d],g=1,h=b.length;g<h;g++)f=b[g],a(f,d)>c&&(e.push(f),d=f);return d!==f&&e.push(f),e}function d(a,c,e,f,g){for(var i,h=f,j=c+1;j<e;j++){var k=b(a[j],a[c],a[e]);k>h&&(i=j,h=k)}h>f&&(i-c>1&&d(a,c,i,f,g),g.push(a[i]),e-i>1&&d(a,i,e,f,g))}function e(a,b){var c=a.length-1,e=[a[0]];return d(a,0,c,b,e),e.push(a[c]),e}function f(a,b,d){if(a.length<=2)return a;var f=void 0!==b?b*b:1;return a=d?a:c(a,f),a=e(a,f)}"function"==typeof define&&define.amd?define(function(){return f}):"undefined"!=typeof module?module.exports=f:"undefined"!=typeof self?self.simplify=f:window.simplify=f}();